name = "cloudmake-api"
main = "src/index.ts"
compatibility_date = "2024-01-01"

# Workers configuration
workers_dev = true
compatibility_flags = ["nodejs_compat_v2"]

# Observability
observability = { enabled = true }

# Routes
[env.development]
name = "cloudmake-api-dev"
vars = { ENVIRONMENT = "development", LOG_LEVEL = "debug", DATABASE_URL = "__PLACEHOLDER_DB_URL__", CLOUDFLARE_ACCOUNT_ID = "__PLACEHOLDER_ACCOUNT_ID__", APP_DOMAIN = "dev.flaresmith.com" }

[env.staging]
name = "cloudmake-api-staging"
vars = { ENVIRONMENT = "staging", LOG_LEVEL = "info", DATABASE_URL = "__PLACEHOLDER_DB_URL__", CLOUDFLARE_ACCOUNT_ID = "__PLACEHOLDER_ACCOUNT_ID__", APP_DOMAIN = "stage.flaresmith.com" }

[env.production]
name = "cloudmake-api-prod"
vars = { ENVIRONMENT = "production", LOG_LEVEL = "warn", DATABASE_URL = "__PLACEHOLDER_DB_URL__", CLOUDFLARE_ACCOUNT_ID = "__PLACEHOLDER_ACCOUNT_ID__", APP_DOMAIN = "flaresmith.com" }

# Development settings
[dev]
ip = "0.0.0.0"
port = 8787
local_protocol = "http"
